@page
@using System.Text.Json
@model TheGreenfieldFamily.Pages.Resume.NikolasModel
@{
    ViewData["Title"] = "Nikolas";
}

<html data-bs-theme="dark">
<body>
    <div class="d-flex flex-column gap-2 my-3 mb-1 align-items-center align-items-sm-start">
        <h1 id="title" class="page-item page-header">
            Hi, I'm Nik
        </h1>
        <h1 id="sub-title" class="page-item page-header">
            Software Engineer
        </h1>
    </div>

    <div class="d-flex flex-row flex-wrap gap-2 mb-5">
        <div class="page-item experience-badge d-flex flex-row align-items-center gap-1">
            <h3 class="m-0 p-0" style="font-size:3rem; font-weight:bold; font-family:'Roboto', sans-serif">
                3
            </h3>
            <p class="m-0 p-0">
                Years development experience
            </p>
        </div>
        <div class="page-item experience-badge d-flex flex-row align-items-center gap-1">
            <h3 class="m-0 p-0" style="font-size:3rem; font-weight:bold; font-family:'Roboto', sans-serif">
                2
            </h3>
            <p class="m-0 p-0">
                Years .Net experience
            </p>
        </div>
        <div class="page-item experience-badge d-flex flex-column justify-content-center">
            <p class="m-0 p-0">
                Secret Security Clearance
            </p>
            <small class="m-0 p-0">
                Inactive within 2 years
            </small>
        </div>
        <div class="page-item experience-badge d-flex flex-column justify-content-center">
            <p class="m-0 p-0">
                Bachelor in Computer Science
            </p>
            <small class="m-0 p-0">
                Virginia Tech class of 2023
            </small>
        </div>
        <div class="page-item experience-badge d-flex flex-column justify-content-center">
            <p class="m-0 p-0">
                CompTIA Security+ Certified
            </p>
            <small class="m-0 p-0">
                (SY0-701) Earned 06/25
            </small>
        </div>
        <div class="page-item experience-badge d-flex flex-column justify-content-center">
            <p class="m-0 p-0">
                Remote Agile
            </p>
            <small class="m-0 p-0">
                Work Experience
            </small>
        </div>
    </div>

    <h1 class="page-item section-header d-inline-block pb-1"> Here's what I've been doing </h1>

    <div class="d-flex flex-column gap-4">
        <!-- 3SI Section -->
        <div class="page-item border pb-3">
            <div class="text-block">
                <h4>
                    Software Developer [Secret Clearance] &commat; 3SI Security
                </h4>
                <h5 class="ml-2">
                    October 2023 â€“ July 2025
                </h5>
                <p>
                    In this position, I began with no experience with C# and .Net, quickly applied and expanded my understanding of OOP and low level development, and become a critical member of the development team.
                </p>
            </div>
            <div class="position-relative">
                <div class="carousel">
                    <div class="carousel-group d-flex flex-row">
                        <div class="scroll-item tech-badge">
                            <h2 class="m-0 p-3 text-center" style="font-weight:bold; font-family:'Roboto', sans-serif;">
                                2 years
                            </h2>
                            <p class="m-0 p-0 text-center" style="font-size: 1.2rem;">
                                of production issue investigation and custom field sql analysis and resolution tools.
                            </p>
                        </div>
                        <div class="scroll-item tech-badge">
                            <h2 class="m-0 p-3 text-center" style="font-weight:bold; font-family:'Roboto', sans-serif;">
                                Led my team
                            </h2>
                            <p class="m-0 p-0 text-center" style="font-size: 1.2rem;">
                                to create comprehensive project documentation to ensure functionality, expandability, and ease of onboarding.
                            </p>
                        </div>
                        <div class="scroll-item tech-badge">
                            <h2 class="m-0 p-3 text-center" style="font-weight:bold; font-family:'Roboto', sans-serif;">
                                60% reduction
                            </h2>
                            <p class="m-0 p-0 text-center" style="font-size: 1.2rem;">
                                in video export times leveraging multithreading and API features.
                            </p>
                        </div>
                        <div class="scroll-item tech-badge">
                            <h2 class="m-0 p-3 text-center" style="font-weight:bold; font-family:'Roboto', sans-serif;">
                                90% reduction
                            </h2>
                            <p class="m-0 p-0 text-center" style="font-size: 1.2rem;">
                                in application load times by expanding authentication and authorization to an in-house federated service.
                            </p>
                        </div>
                        <div class="scroll-item tech-badge">
                            <h2 class="m-0 p-3 text-center" style="font-weight:bold; font-family:'Roboto', sans-serif;">
                                Detected & Prevented
                            </h2>
                            <p class="m-0 p-0 text-center" style="font-size: 1.2rem;">
                                Multiple potential memory leaks using Visual Studio memory analysis tools and data rules.
                            </p>
                        </div>
                    </div>
                    <div class="carousel-group d-flex flex-row">
                        <div class="scroll-item tech-badge">
                            <h2 class="m-0 p-3 text-center" style="font-weight:bold; font-family:'Roboto', sans-serif;">
                                2 years
                            </h2>
                            <p class="m-0 p-0 text-center" style="font-size: 1.2rem;">
                                of production issue investigation and custom field sql analysis and resolution tools.
                            </p>
                        </div>
                        <div class="scroll-item tech-badge">
                            <h2 class="m-0 p-3 text-center" style="font-weight:bold; font-family:'Roboto', sans-serif;">
                                Led my team
                            </h2>
                            <p class="m-0 p-0 text-center" style="font-size: 1.2rem;">
                                to create comprehensive project documentation to ensure functionality, expandability, and ease of onboarding.
                            </p>
                        </div>
                        <div class="scroll-item tech-badge">
                            <h2 class="m-0 p-3 text-center" style="font-weight:bold; font-family:'Roboto', sans-serif;">
                                60% reduction
                            </h2>
                            <p class="m-0 p-0 text-center" style="font-size: 1.2rem;">
                                in video export times leveraging multithreading and API features.
                            </p>
                        </div>
                        <div class="scroll-item tech-badge">
                            <h2 class="m-0 p-3 text-center" style="font-weight:bold; font-family:'Roboto', sans-serif;">
                                90% reduction
                            </h2>
                            <p class="m-0 p-0 text-center" style="font-size: 1.2rem;">
                                in application load times by expanding authentication and authorization to an in-house federated service.
                            </p>
                        </div>
                        <div class="scroll-item tech-badge">
                            <h2 class="m-0 p-3 text-center" style="font-weight:bold; font-family:'Roboto', sans-serif;">
                                Detected & Prevented
                            </h2>
                            <p class="m-0 p-0 text-center" style="font-size: 1.2rem;">
                                Multiple potential memory leaks using Visual Studio memory analysis tools and data rules.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="w-25 h-100" style="position:absolute; pointer-events: none; left: 0; bottom: 0;
        background: linear-gradient(to right, var(--bs-body-bg), rgba(255, 255, 255, 0));"></div>
                <div class="w-25 h-100" style="position:absolute; pointer-events: none; right: 0; bottom: 0;
        background: linear-gradient(to left, var(--bs-body-bg), rgba(255, 255, 255, 0));"></div>
            </div>
        </div>

        <!-- This website Section -->
        <div class="page-item border text-block">
            <h4>
                This Website!
            </h4>
            <div class="d-flex flex-row flex-wrap justify-content-between justify-content-xxxl-center">
                <div class="text-block w-40 w-xxxl-100 pb-2" style="">
                    <div class="mb-3">
                        <p class="m-0">
                            I built this website to showcase my skills and projects, as well as to provide
                            my family with a centralized location for our history and family tree.
                        </p>
                        <p class="m-0"> Check out <a href="https://github.com/NikolasGreenfield/the-greenfield-family" target="_blank">the source code</a> on GitHub.</p>
                    </div>
                    <div class="d-flex flex-row flex-wrap gap-2 mb-3">
                        <p class="m-0">This website was built using: </p>
                        <p class="tech-badge"> ASP.NET </p>
                        <p class="tech-badge"> Razor Pages </p>
                        <p class="tech-badge"> Bootstrap </p>
                        <p class="tech-badge"> Cloudflare Tunneling </p>
                        <p class="tech-badge"> Self Hosted Server </p>
                    </div>
                    <div class="d-flex flex-row flex-wrap gap-2 m-0">
                        <p class="m-0"> And it will include: </p>
                        <p class="tech-badge"> Self Hosted REST API </p>
                        <p class="tech-badge"> IIS Management </p>
                    </div>
                    <p class="m-0"> when I finish implementing the family tree page and backend. </p>
                </div>
                <div class="w-60 w-xxxl-100 d-flex flex-row justify-content-center">
                    <div style="width: 40vw; max-width: 100%; height: 40vh; max-height: 100%;">
                        <iframe id="mini-site" class="" style="
                        position: absolute; overflow: hidden;
                        width:100vw; max-width: 3300px; height: 100vh; max-height: 3300px; transform:scale(0.39); transform-origin:0 0;"
                                src="/" scrolling="no">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>

        <!-- Parsons Section -->
        <div class="page-item border text-block">
            <h4>
                Software Engineering Internship &commat; Parsons Corporation
            </h4>
            <h5> May 2023 â€“ September 2023 </h5>
            <div class="d-flex flex-column flex-md-row align-items-start align-items-md-center">
                <div class="d-flex flex-row flex-wrap justify-content-evenly align-content-around w-100 w-md-250px h-md-250px" style="">
                    <img src="~/images/PowerPlatform_scalable.svg" width="100" height="100" />
                    <img src="~/images/PowerAutomate_scalable.svg" width="100" height="100" />
                    <img src="~/images/PowerApps_scalable.svg" width="100" height="100" />
                    <img src="~/images/PowerBI_scalable.svg" width="100" height="100" />
                </div>
                <div class="ml-2 w-75">
                    <p>
                        Developed a Microsoft Cloud Application in a remote Agile development environment implimenting data visualization dashboards, SharePoint list storage solutions, and pdf generators.
                    </p>
                    <div class="d-flex flex-row flex-wrap gap-2 mb-3">
                        <p class="m-0">Technologies:</p>
                        <p class="tech-badge"> Microsoft Power Apps </p>
                        <p class="tech-badge"> Power Automate </p>
                        <p class="tech-badge"> Power BI </p>
                        <p class="tech-badge"> Sharepoint </p>
                    </div>
                    <div class="d-flex flex-row flex-wrap gap-2 mb-3">
                        <p class="m-0">Tools:</p>
                        <p class="tech-badge"> Jira Iteration Boards </p>
                        <p class="tech-badge"> Azure Dev-Ops </p>
                        <p class="tech-badge"> Slack </p>
                        <p class="tech-badge"> Confluence </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

@section Scripts {
    <script>
        window.AppState = {
            sIScroll: 0,
            darkTheme: null,
        };
    </script>

    <!-- Ensure saving and updating state across the page and mini-pages. -->
    <script>
        const trustedOrigin = @Html.Raw(JsonSerializer.Serialize(Model.TrustedMessageOrigin));

        // Sends a message to the parent and child iframe when the scroll position or theme changes. To prevent looping in the notifications in both directions,
        // we add an upward property to ensure the notifications are not sent in the same direction is was notified.
        function sendMessage(type, value, child, upward = true, downward = true){
            if (window.parent != window && upward){
                window.parent.postMessage({
                    type: type,
                    value: value,
                    upward: true
                }, trustedOrigin);
            }
            if (child != null && downward){
                child.postMessage({
                    type: type,
                    value: value,
                    upward: false
                }, trustedOrigin);
            }
        }

        // Theming is done on the layout level, so we notify it of changes for them to take affect
        function updateTheme(darkTheme){
            window.AppState.darkTheme = darkTheme;
            themeEvent = new CustomEvent("themeChangeByLogic", {
                detail: {
                    darkTheme: darkTheme
                }
            });
            document.dispatchEvent(themeEvent);
        }

        document.addEventListener('DOMContentLoaded', () =>{
            const iframe = document.getElementById('mini-site');
            const scrollingList = document.getElementById('3si-scrolling-list');

            // Update the page scroll of the child site directly on change because the mini site is not scrollable.
            let isUpdatingScroll = false;
            const miniSiteScrollRate = 1000 / 15;
            window.addEventListener('scroll', () => {
                if (iframe.contentWindow == null) return;

                if (!isUpdatingScroll){
                    isUpdatingScroll = true;
                    iframe.contentWindow.document.documentElement.scrollTop = window.scrollY;

                    setTimeout(() => isUpdatingScroll = false, miniSiteScrollRate);
                }
            });

            // Listen to changes in this window, sending messaegs to its parent and child window on change.
            document.addEventListener('themeChangeByButton', (e) => {
                if (window.AppState.darkTheme === e.detail.darkTheme) return;

                window.AppState.darkTheme = e.detail.darkTheme;

                sendMessage("themeChange", e.detail.darkTheme, iframe.contentWindow);
            });


            // Listen to changes from parent and child(mini page) pages, and update this window.
            window.addEventListener('message', (e) => {
                if (e.origin !== trustedOrigin) return;

                switch (e.data.type){
                    case "themeChange":
                        updateTheme(e.data.value);
                        sendMessage("themeChange", e.data.value, iframe.contentWindow, e.data.upward, !e.data.upward);
                        break;

                }
            });
        });
    </script>
}